language: php

php:
  - "7.0"

env:
  global:
    - secure: S9UpZ0hK5scO39/P1PPGKE+MgBBz7CgDdsfKZQAaWyBhg/GgzJkxUzvSZJEsDiDQu1MLxYz7B3RHIlRfcwfa7rHtr6u2rhRCawb6uerc5EbyI7hxTfTo9cRZMNLRVSpSbW+RD7sqTXT2lK6tNXgJt6MZOsWPd9yLtd1wCCAk6li3shSp2AoJhNaQ9Dt/KRydgd/xTzDdB4GdOWGkUjiiq7MG1BiEskz2xNadhT0JUuZ4MBHu9p57XI67nJbDD/NJ7Ad4wrsnROkZtYVjfeJsL2foXv5kOxiXO6lF30L5Awuj/Pn8XtSx7YmC9+k4+sw/fLBnv+OS7KbYuNRtOJFRnw==
  matrix:
    - TYPO3_VERSION: ^8.7

matrix:
  include:
    - php: 7.2
      env: TYPO3_VERSION=^9.5

build:
  cache: true
  cache_dir_list:
    - $HOME/.composer/cache

  ci:
    - npm install
    - npm install -g bash-task-runner
    - runner fix_php56
    - runner build

  on_success:
    - runner deploy

integrations:
  notifications:
    - integrationName: nettwork-slack
      type: slack
      recipients:
        - "#shippable"

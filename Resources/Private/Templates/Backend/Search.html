<f:layout name="Backend" />
<f:section name="main">

	<h1>Search result</h1>

	<f:flashMessages />

		<f:form action="search" class="form-inline">
			<div class="form-group">
				<label for="term">Search: </label>
				<f:form.textfield name="term" id="term" class="form-control" />
				
			</div>
			<f:form.submit value="Submit" class="btn btn-primary" />

		</f:form>

		<p>Search for <b>{term}</b> took {result.took} milliseconds. It found <b>{result.hits.hits -> f:count()}</b> occurrences in <b>{result.hits.total}</b> entries.</p>

		<f:if condition="{result.hits.hits}">
			<table class="table">
				<tr>
					<th>ID</th>
					<th>Type</th>
					<th>Preview</th>
					<th>Score</th>
				</tr>

				<f:for each="{result.hits.hits}" as="hit">

					<tr>
						<td>{hit._id}</td>
						<td>{hit._type}</td>
						<td>{hit._source.preview}</td>
						<td>{hit._score}</td>
					</tr>

				</f:for>


			</table>

		</f:if>

	<div>
		<f:link.action action="start" class="btn btn-default">Return</f:link.action>
	</div>

</f:section>

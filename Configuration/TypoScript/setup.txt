plugin.tx_searchable {
    view {
        templateRootPaths.0 = {$plugin.tx_searchable.view.templateRootPath}
        partialRootPaths.0 = {$plugin.tx_searchable.view.partialRootPath}
        layoutRootPaths.0 = {$plugin.tx_searchable.view.layoutRootPath}

        pluginNamespace = tx_searchable
    }
    persistence {
        storagePid = {$plugin.tx_searchable.persistence.storagePid}
    }
    settings {
        includejQuery = {$plugin.tx_searchable.includejQuery}
        includejQueryAutocomplete = {$plugin.tx_searchable.includejQueryAutocomplete}

        resultPage = {$plugin.tx_searchable.settings.resultPage}

        search {
            resultsPerPage = {$plugin.tx_searchable.settings.search.resultsPerPage}
        }
        result {
            showPreview = {$plugin.tx_searchable.settings.result.showPreview}
        }
        query {
            features {
                //@todo rename constants in V2
                highlighting = {$plugin.tx_searchable.settings.result.showHighlighting}
                termSuggest = {$plugin.tx_searchable.settings.result.showSuggestions}
                completionSuggest = {$plugin.tx_searchable.settings.features.completionSuggest}
            }
        }
    }
}

module.tx_searchable {
    settings < plugin.tx_searchable.settings
    persistence < plugin.tx_searchable.persistence
    view < plugin.tx_searchable.view
}

page.includeCSS.searchable = EXT:searchable/Resources/Public/Css/searchable.css

# Include JQuery if activated
page.includeJSFooterlibs.jQuery = EXT:searchable/Resources/Public/JavaScript/jquery-3.2.1.min.js
page.includeJSFooterlibs.jQuery.if.isTrue = {$plugin.tx_searchable.settings.includejQuery}

# Include Autocomplete if activated
page.includeJSFooter.jQueryAutocomplete = EXT:searchable/Resources/Public/JavaScript/jquery.autocomplete.min.js
page.includeJSFooter.jQueryAutocomplete.if.isTrue = {$plugin.tx_searchable.settings.includejQueryAutocomplete}

page.includeJSFooter.searchable = EXT:searchable/Resources/Public/JavaScript/searchable.js
